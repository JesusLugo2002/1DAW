import os
import random
import string

EMPTY = ''

UNEXPLORED = '‚¨õ'
WATER = 'üü¶'
TOUCHED = 'üüß'
SUNKEN = 'üü•'


def generate_board(
    size: int = 10,
    sheeps: tuple[tuple[int, int]] = ((5, 1), (4, 1), (3, 2), (2, 1)),
) -> list[list[str]]:
    board = [[EMPTY for _ in range(size)] for _ in range(size)]
    for sheep_size, num_sheeps in sheeps:
        placed_sheeps = 0
        while placed_sheeps < num_sheeps:
            sheep_id = f'{sheep_size}{string.ascii_uppercase[placed_sheeps]}'
            row, col = random.randint(0, size), random.randint(0, size)
            step = random.choice((-1, 1))
            row_step, col_step = (step, 0) if random.randint(0, 1) else (0, step)
            breadcrumbs = []
            for _ in range(sheep_size):
                try:
                    if not (0 <= row < size and 0 <= col < size):
                        raise IndexError()
                    if board[row][col] == EMPTY:
                        board[row][col] = sheep_id
                        breadcrumbs.append((row, col))
                    else:
                        raise IndexError()
                    row += row_step
                    col += col_step
                except IndexError:
                    # reset board
                    for bc in breadcrumbs:
                        board[bc[0]][bc[1]] = EMPTY
                    break
            else:
                placed_sheeps += 1

    return board


def show_board(board: list[list[str]]) -> None:
    for row in board:
        for item in row:
            print(f'[{item:2s}]', end='')
        print()


# TU C√ìDIGO DESDE AQU√ç HACIA ABAJO
# ‚Üì‚Üì‚Üì‚Üì‚Üì‚Üì‚Üì‚Üì‚Üì

LETTERS = 'ABCDEFGHIJ'
board = generate_board()
game_board = [[UNEXPLORED for _ in range(11)] for _ in range(11)]
player_name = ''
player_points = 0
previous_movements = []
touched_ships = []
ships = []
base_ships_count = ships_count = 5
is_invalid = False
i_am_tired_of_playing_this_thing = False

# Contabilizaci√≥n previa de las partes de barco
for row in board:
    for elem in row:
        if elem != EMPTY:
            ships.append(elem)

# 1. Introducci√≥n y nombre de jugador

print()
print(
    """Hola, soy Patricio, ser omnipotente, narrador de esta emocionante historia...
Por favor, si√©ntate bien, para evitar problemas de salud, y disfruta de esta aventura...

      /`¬∑.¬∏\n     /¬∏...¬∏`:¬∑\n ¬∏.¬∑¬¥  ¬∏   `¬∑.¬∏.¬∑¬¥)\n: ¬© ):¬¥;      ¬∏  {\n `¬∑.¬∏ `¬∑  ¬∏.¬∑¬¥\\`¬∑¬∏)\n     `\\¬¥¬¥\\¬∏.¬∑¬¥"""
)
print()
input('Presiona Enter para continuar...')
print()
print(
    """Eres un joven pirata novato, navegando en medio de las insondables aguas de la noche. 
La negrura te envuelve, pero de repente, el sonido lejano de ca√±ones rompe el silencio..."""
)
input()
print(
    """Un escalofr√≠o recorre tu espina dorsal cuando una voz retumbante te desaf√≠a: 
"¬°Encu√©ntranos, insensato!" Barba Negra, el pirata m√°s temido, te ha tendido una trampa. 
En la penumbra, una flota invisible se acerca, decidida a hundirte en las profundidades del mar...

‚£†‚£æ‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†Å‚¢º‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø
‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†á‚†Ä‚£º‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø
‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†è‚†Ä‚¢∏‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø
‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†ü‚†Ä‚†Ä‚£æ‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø
‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†Å‚†Ä‚£∫‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†ø‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†ø‚£ø‚¢ª‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø
‚£ø‚£ø‚£ø‚£ø‚£ø‚°ø‚†Å‚†Ä‚¢†‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚¢ß‚†á‚¢Ä‚£∑‚†ò‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ª‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚¢ü‚£Ø‚£ø‚°ø‚¢ª‚†è‚£¶‚†â‚†ã‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø
‚£ø‚£ø‚£ø‚£ø‚£ø‚†Ä‚†Ä‚¢∞‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†è‚†Ä‚¢Ä‚£æ‚£ø‚£Ñ‚†à‚¢ª‚°ì‚†ü‚¢ª‚£ø‚£á‚£ß‚£∏‚°ø‚¢ø‚£ø‚°á‚£ª‚£ø‚†û‚¢ø‚£ß‚†è‚£º‚£∑‚£Ñ‚†Ä‚†à‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø
‚£ø‚£ø‚£ø‚°ø‚†É‚†Ä‚¢Ä‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°è‚†Ä‚†Ä‚£º‚£ø‚£ø‚£ø‚£∑‚°Ä‚†à‚¢∏‚£Ä‚¢∏‚£ø‚£ø‚†ø‚°É‚£º‚£ø‚£ª‚¢ª‚£ø‚£†‚†ü‚££‚£æ‚£ø‚£∑‚£ø‚°Ü‚†Ä‚†∏‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø
‚£ø‚£ø‚£ø‚°Ö‚†Ä‚†Ä‚£æ‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†Ä‚†Ä‚¢∞‚£ø‚£æ‚°ü‚†Ä‚†ª‚°ø‚£¶‚°Ä‚†à‚†â‚†ô‚¢∫‚¢∏‚£è‚£ø‚¢£‚£ü‚°ö‚†õ‚£Ä‚£æ‚°ø‚†õ‚†Å‚£ø‚£ø‚°á‚†Ä‚†Ä‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø
‚£ø‚°ø‚†É‚†Ä‚¢Ä‚£æ‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°ø‚†Ä‚†Ä‚†à‚¢ø‚£ø‚£ß‚°Ä‚†∏‚†ø‚†û‚†ª‚£¶‚£Ä‚£†‚¢ü‚£ø‚£ø‚£ø‚£à‚°Å‚£†‚£æ‚†ü‚†õ‚£ø‚£§‚£æ‚£ø‚°ø‚†Å‚†Ä‚†Ä‚¢∏‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°á‚¢ª‚°ù‚£ø‚£ø‚£ø‚£ø‚£ø
‚°è‚†Å‚†Ä‚¢†‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°á‚†Ä‚†Ä‚†Ä‚†Ä‚†π‚†ø‚£ø‚£∑‚£∂‚£∂‚£∂‚°ø‚£ø‚£∑‚°ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£∑‚£∂‚£æ‚£ø‚£ø‚†ü‚†ü‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†Ä‚†π‚£ü‚†ª‚£ø‚£ø‚£ø
‚†Ç‚†Ä‚£∞‚£ø‚£ø‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†á‚†Ä‚£†‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚†â‚†Ä‚†Ä‚†à‚†ô‚†≤‚£ø‚£ø‚£ø‚†É‚†Ä‚†Ä‚†à‚†â‚†â‚†â‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†∞‚£Ñ‚†Ä‚¢π‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°Ö‚¢∏‚†Ä‚†ô‚£Ü‚¢ª‚£ø‚£ø
‚¢Ä‚£¥‚£ø‚°ø‚¢É‚£º‚¢õ‚£ø‚£ø‚¢ü‚£ø‚£ø‚£ø‚£ø‚£ø‚¢Ä‚£û‚°•‚†ö‚†Ä‚†Ä‚†Ä‚†Ä‚£Ä‚£†‚†§‚†Ñ‚†Ä‚†Ä‚¢†‚£æ‚£ø‚£ø‚£ß‚°Ñ‚†Ä‚†Ä‚†∞‚†≤‚¢¶‚£Ä‚†Ä‚†Ä‚†Ä‚†à‚†â‚¢ë‚£∫‚£∑‚°å‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°á‚£ø‚†Ç‚†Ä‚†ò‚¢Ø‚£ø‚£ø
‚£æ‚£ø‚†ü‚¢Å‚£º‚°è‚£∏‚£ø‚°ü‚¢≤‚¢à‚£ø‚£ø‚£ø‚°è‚£æ‚£ø‚£∑‚°∂‚¢∂‚£∂‚£∂‚£ø‚£ø‚†ø‚£∂‚¢¶‚°Ä‚†Ä‚†à‚†õ‚†ø‚£ø‚°ø‚†É‚†Ä‚£Ä‚£¥‚°∂‚¢∫‚£ø‚£π‚£∑‚£æ‚£ø‚°ø‚£ø‚£ø‚£ø‚°á‚¢ª‚£ø‚°è‚¢ø‚£ø‚£ø‚£ø‚£á‚£ø‚°Ñ‚†Ä‚†Ä‚£º‚£ø‚£ø
‚†ü‚†Å‚†Ä‚¢∏‚£ø‚†Å‚£ø‚°ø‚£∞‚£°‚£ø‚¢á‚£ø‚£ø‚†Å‚¢ª‚£Ø‚£ø‚£ç‚†ª‚†≠‚£π‚£ø‚£ø‚£ø‚£ß‚£º‚£ø‚£¶‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£∞‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†ø‚¢õ‚†µ‚£ø‚°è‚°á‚†∏‚£ø‚£ø‚†ò‚£ß‚£ø‚£ø‚£ø‚£æ‚†Ñ‚†Ä‚£¥‚£ø‚£ø‚£ø
‚†Ä‚†Ä‚†Ä‚¢∏‚£ø‚£à‚£ø‚†É‚£ß‚£Ø‚£ø‚£∏‚¢â‚£ó‚†Ä‚¢∏‚¢∏‚¢π‚£è‚¢≥‚£§‚£à‚†ô‚†≤‚¢ø‚£ø‚£ø‚£ª‚¢ø‚£∑‚£∂‚£§‚£¥‚£∂‚£æ‚£ø‚°ø‚£ø‚£ø‚†ø‚†ü‚†õ‚£â‚°§‚†ö‚°á‚¢∏‚£ü‚¢ß‚°á‚†Ä‚£ø‚£ø‚°Ñ‚¢ª‚£∏‚°Ø‚£ø‚£∏‚°á‚¢§‚£ø‚£ø‚£ø‚£ø
‚°Ä‚†Ä‚†Ä‚†Ä‚£ø‚£ø‚£∑‚£∏‚£ø‚†Ä‚£¨‚£ø‚£ø‚£Ø‚°Ä‚†∏‚£ø‚°Ü‚¢ø‚°é‚£á‚†à‚¢π‚†ì‚†¶‚¢§‚£Ñ‚£â‚†â‚†â‚†â‚†â‚†â‚†â‚†â‚†â‚£â‚£°‚°§‚†ñ‚¢∫‚£ø‚£ø‚†Ä‚£Ä‚£§‚£ø‚£∏‚¢∏‚†É‚¢∞‚£ø‚£ø‚†á‚¢º‚£ø‚£ø‚£ø‚°ø‚£Ä‚£æ‚£ø‚£ø‚£ø‚£ø
‚†Å‚°Ü‚†Ä‚†∏‚£ø‚£ø‚£ø‚£ø‚°è‚¢∞‚£ø‚£ø‚£ø‚£ø‚£ø‚°Ä‚¢ø‚¢ª‚†ò‚£ø‚£ø‚£Ñ‚°Ä‚†Ä‚†Ä‚†Ä‚†ò‚°å‚†â‚†ô‚¢ª‚†û‚†â‚†â‚¢ô‚£ø‚£ø‚£ø‚†Ä‚¢Ä‚£∏‚£Ø‚£ø‚£ø‚£ø‚£ø‚°á‚°ü‚£æ‚†Ä‚£æ‚£ø‚£ø‚†¶‚£ô‚°ô‚†ç‚£ø‚£á‚£º‚£ø‚£ø‚£ø‚£ø‚£ü
‚°Ä‚¢π‚£§‚£§‚£ü‚£ø‚£Ø‚£ø‚°ø‚†∏‚£æ‚£ø‚£Ø‚£ø‚£æ‚£ß‚¢ò‚£è‚¢ß‚†∏‚£ø‚£ø‚£õ‚£∑‚£¶‚£§‚£§‚£ß‚£Ä‚£Ä‚£ò‚£Ü‚£Ä‚£Ä‚£∏‚°ø‚£ø‚°å‚£ø‚°ü‚†õ‚£ø‚£∑‚†ø‚£ø‚°ø‚†∏‚¢ß‚†è‚¢º‚£ø‚£ø‚¢π‚£Ä‚†∏‚¢ß‚†Ä‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ß‚£π
‚°á‚¢∏‚£ø‚£ø‚£ø‚£Ø‚£ø‚†ü‚†Å‚†Ä‚†Ä‚†Ä‚£∑‚°á‚£ø‚£ø‚£º‚°Ü‚†Ä‚†Ä‚¢π‚£ø‚†ª‚£ø‚£ü‚†õ‚†â‚†ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°á‚†Ä‚†õ‚°π‚†É‚†Ä‚£ø‚†ü‚£Ø‚£ø‚†á‚†à‚¢†‚£å‚£ø‚£ø‚£ø‚°ø‚¢∏‚¢∂‚†à‚†£‚£æ‚£ø‚£ø‚£ø‚°Ω‚¢ª‚°ú‚°ü
‚°á‚¢∏‚°ü‚£ø‚£ø‚£ø‚°ü‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£¨‚£ø‚£ø‚£Ω‚°ø‚£∑‚£¢‚†Ä‚†Ä‚¢ø‚£∑‚†ô‚¢ø‚£¶‚£Ä‚°Ä‚†ê‚†ø‚£ø‚£ø‚£∂‚£∑‚£ø‚°ó‚†Ñ‚¢Ç‚£É‚°§‚†ö‚†â‚£á‚°ü‚°ü‚†Ä‚¢Ä‚£º‚£ø‚£ø‚£ª‚£ç‚¢É‚†ò‚†Ä‚†Ä‚†Ä‚£ø‚£ø‚£ø‚¢ø‚£ß‚†Ä‚¢ø‚£∑
‚£á‚†Ä‚°ß‚£ø‚£ø‚°á‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£ø‚°á‚†ø‚†õ‚†ß‚†ô‚¢ø‚£Ü‚°Ä‚†ò‚°é‚¢ß‚£®‚†Ä‚†à‚¢π‚°Ä‚†Ä‚†â‚£æ‚†ø‚†Ø‚†ø‚¢≤‚°ã‚†â‚†Ä‚¢π‚†Ä‚¢†‚°ü‚£∏‚†Å‚¢Ä‚¢∫‚°ø‚†õ‚†ô‚¢ø‚£ø‚¢∏‚£¥‚£Ä‚†Ä‚£∞‚£ø‚£ø‚£ø‚¢∏‚£ø‚°Ñ‚†ò‚£ß
‚£ø‚†Ä‚£á‚£ø‚°ø‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Å‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†∏‚¢ø‚£ø‚£Ä‚†π‚°å‚†ª‚¢¶‚£Ä‚†ò‚£ø‚£∂‚£∂‚£ø‚†Ä‚†Ä‚†Ä‚†®‚°á‚†Ä‚£Ä‚£∏‚£¥‚°ü‚¢°‚†á‚¢Ä‚£ø‚£ø‚†Å‚†Ä‚†Ä‚†à‚¢ª‚°é‚£ø‚£ø‚£ø‚£ø‚£ø‚°è‚¢π‚¢∏‚£ø‚£ß‚†Ä‚¢π
‚°è‚¢∞‚£ø‚°á‚†Ä‚†Ä‚¢Ä‚¢∞‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†∏‚¢æ‚£ø‚£ø‚°Ñ‚†ô‚¢¶‚°Ä‚†à‚†â‚†õ‚†ª‚†ø‚†õ‚†ø‚¢∂‚†æ‚†ø‚†õ‚†ü‚†õ‚†â‚£Å‚£§‚†ü‚¢Ä‚£æ‚£ø‚£ø‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Å‚†ô‚£ø‚£ø‚£ø‚£ø‚°Ü‚†∏‚£ø‚°º‚£ø‚°Ñ‚†à
‚°á‚¢∏‚£æ‚¢£‚£Ñ‚£¥‚¢æ‚†∏‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢∏‚£ü‚£ø‚£∑‚£¶‚†Ä‚†â‚†ì‚£∂‚°§‚†§‚£§‚£§‚£§‚¢§‚£§‚£§‚£§‚£∂‚£∂‚£ø‚°ç‚†Ä‚¢Ä‚£æ‚£ø‚£ø‚°ü‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚¢ø‚£ø‚£Ø‚£ß‚°Ñ‚£ø‚£á‚¢ª‚£∑‚†Ä
‚°∑‚¢∏‚£ø‚£ø‚°ü‚£á‚£∏‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢ª‚£ø‚£ø‚£ø‚£∂‚£Ü‚£í‚£ø‚£ß‚£ø‚£ø‚£ø‚†ü‚¢∏‚£ø‚†ü‚£ø‚£ø‚°ø‚£á‚£¶‚£¥‚£ø‚£ø‚£ø‚°ø‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚£è‚†π‚£ø‚£ø‚°á‚£ø‚£ø‚†Ä‚¢ª‚£á
‚¢É‚£æ‚£º‚£ø‚£á‚£ø‚†ã‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ô‚£ø‚£ø‚£ø‚£ø‚£ø‚£∑‚£ø‚£ø‚£ø‚£ø‚£¶‚£º‚£ø‚£∂‚£æ‚£Ø‚£∑‚£ø‚£ø‚£ø‚£ø‚°ø‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ê‚†Ä‚†Ä‚†à‚†ª‚£ø‚£∑‚£ø‚£á‚†Ä‚¢Ø
‚£æ‚£ø‚£•‚£ø‚£ø‚°ø‚†Ä‚£Ñ‚¢Ä‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢ª‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£Ω‚£ø‚£ø‚£ø‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢´‚£ø‚°¥‚£ø‚°Ü‚†à
‚£ø‚£ø‚£ø‚£ø‚£ø‚°∑‚†∏‚¢ø‚†∞‚¢ª‚°∑‚°Ü‚£Ä‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚¢ø‚£ø‚£º‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ª‚°á‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚£¥‚£∑‚¢∏‚£∏‚£ø‚£ø‚°è‚†Ä
‚†â‚†ø‚£ø‚£ø‚£ø‚†õ‚¢¶‚£º‚£ø‚£ø‚°ç‚£á‚°à‚°ô‚†Ü‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚†ª‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†ø‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚£§‚°∂‚£æ‚£ü‚£ø‚£ø‚£ü‚£π‚°∑‚¢ø‚£ø‚°Ä"""
)
input()
print(
    """Con rapidez, te levantas y das la orden a tu tripulaci√≥n: "¬°Todos a los ca√±ones, nos atacan!" 
Los marineros, fieles a bordo de tu barco, se apresuran a ocupar sus posiciones. 
Ha llegado el momento de demostrar tu val√≠a como pirata. 

              |    |    |                 \n             )_)  )_)  )_)              \n            )___))___))___)\\            \n           )____)____)_____)\\\\\n         _____|____|____|____\\\\\\__\n---------\\                   /---------\n  ^^^^^ ^^^^^^^^^^^^^^^^^^^^^\n    ^^^^      ^^^^     ^^^    ^^\n         ^^^^      ^^"""
)
input()
player_name = input('¬øC√≥mo se llama, navegante? --> ')
print()
print(
    'Con la mirada fija en la oscuridad, te preparas para el enfrentamiento, listo para hacerlos caer con precisi√≥n y perspicacia.'
)
input()

# 2. Bucle principal

while True:
    os.system('clear')
    ### Mostrar mapa
    print()
    for row_index, row in enumerate(game_board):
        for col_index, item in enumerate(row):
            if row_index == 0:
                print(f'{str(col_index):3s}', end='')
            elif col_index == 0:
                print(f'{LETTERS[row_index-1]:3s}', end='')
            else:
                print(f'{item:2s}', end='')
        print()
    print('---------------------------------')
    print(f'-=- QUEDAN {ships_count} BARCOS ENEMIGOS -=- ')
    print(f'Jugador {player_name} | Puntos: {player_points} | Turnos: {len(previous_movements)}')
    print()

    ### Preguntar casilla a atacar -> detectar entradas incorrectas
    while True:
        order = (
            input("¬øD√≥nde va a atacar? <A-J><1-10> (O escriba 'salir' para dejar la partida) --> ")
            .upper()
            .replace(' ', '')
        )

        if order == 'SALIR':
            i_am_tired_of_playing_this_thing = True
            break

        is_invalid = False

        for index, character in enumerate(order):
            if index == 0 and character.isnumeric():
                print('MOVIMIENTO DENEGADO: Entrada err√≥nea')
                is_invalid = True
                break

            if index > 0 and character.isalpha():
                print('MOVIMIENTO DENEGADO: Entrada err√≥nea')
                is_invalid = True
                break

            if not character.isalnum():
                print('MOVIMIENTO DENEGADO: Se encuentran car√°cteres inv√°lidos.')
                is_invalid = True
                break

        if is_invalid:
            continue

        if len(order) < 2 or len(order) > 3:
            print('MOVIMIENTO DENEGADO: Entrada err√≥nea.')
            continue

        if order[0] not in LETTERS:
            print('MOVIMIENTO DENEGADO: La letra debe estar en el rango A-J.')
            continue

        if int(order[1:]) < 1 or int(order[1:]) > 10:
            print('MOVIMIENTO DENEGADO: El n√∫mero debe estar en el rango 1-10.')
            continue

        order_letter = LETTERS.index(order[0])
        order_number = int(order[1:]) - 1

        if order not in previous_movements:
            previous_movements.append(order)
            break
        else:
            print('MOVIMIENTO DENEGADO: Ya has realizado este ataque.')

    if i_am_tired_of_playing_this_thing:
        break

    ### Ejecutar cambio de casillas y puntaje
    targeted_box = board[order_letter][order_number]
    if targeted_box == EMPTY:
        game_board[order_letter + 1][order_number + 1] = WATER
        player_points -= 1
    else:
        touched_ships.append(targeted_box)
        if ships.count(targeted_box) == touched_ships.count(targeted_box):
            player_points += 4 * int(targeted_box[0])

            for row_index, row in enumerate(board):
                for col_index, elem in enumerate(row):
                    if elem == targeted_box:
                        game_board[row_index + 1][col_index + 1] = SUNKEN

            ships_count -= 1

        else:
            game_board[order_letter + 1][order_number + 1] = TOUCHED
            player_points += 2 * int(targeted_box[0])

    ### Fin del bucle principal si todos los barcos fueron tocados.

    if len(touched_ships) == len(ships):
        os.system('clear')
        print()
        for row_index, row in enumerate(game_board):
            for col_index, item in enumerate(row):
                if row_index == 0:
                    print(f'{str(col_index):3s}', end='')
                elif col_index == 0:
                    print(f'{LETTERS[row_index-1]:3s}', end='')
                else:
                    print(f'{item:2s}', end='')
            print()
        print('---------------------------------')
        print(
            f'Jugador {player_name} | Puntos: {player_points} | Turnos: {len(previous_movements)}'
        )
        break

# 3. Creditos

if not i_am_tired_of_playing_this_thing:
    print()
    print(
        f"""Enhorabuena, valiente {player_name}. Has vencido a {base_ships_count} barcos enemigos sin apenas vislumbrar lo que te rodea. 
    Con astucia y determinaci√≥n, has utilizado {len(previous_movements)} ca√±onazos para superar la amenaza.
    Tu puntuaci√≥n final es de {player_points} puntos..."""
    )
    print()
    input('Presiona Enter para continuar...')
    print()
    print(
        """Aunque te has quedado sin munici√≥n, sigues con vida, demostrando que incluso en la m√°s profunda oscuridad, tu destreza como pirata brilla con intensidad.
    Como recompensa por tu valent√≠a, el Consejo de Piratas decreta que has ascendido de rango.
    Las sirenas cantar√°n sobre ti, propagando tu leyenda por todos los mares conocidos. 
    ¬°Que tu nombre resuene en las olas y tu historia sea contada de isla en isla!"""
    )
    print()
    print(
        """Y con esto yo, Patricio, me despido de ti. Nos volveremos a ver, navegante...
    Tenlo por seguro...

        /`¬∑.¬∏\n     /¬∏...¬∏`:¬∑\n ¬∏.¬∑¬¥  ¬∏   `¬∑.¬∏.¬∑¬¥)\n: ¬© ):¬¥;      ¬∏  {\n `¬∑.¬∏ `¬∑  ¬∏.¬∑¬¥\\`¬∑¬∏)\n     `\\\\¬¥¬¥\\¬∏.¬∑¬¥

    """
    )
else:
    print('HAHA TO MALO XD')
